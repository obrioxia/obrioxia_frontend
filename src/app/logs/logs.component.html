<div class="container">
  <div class="header-row">
    <h2>Immutable Log Chain</h2>
    <button (click)="loadLogs()" class="refresh-btn">Verify & Refresh</button>
  </div>

  <div *ngIf="isLoading" class="loading">Verifying cryptographic chain...</div>
  <div *ngIf="error" class="alert error">{{ error }}</div>

  <div class="chain-container" *ngIf="!isLoading && logs.length > 0">
    <div class="log-card" *ngFor="let log of logs; let i = index">
      <div class="log-header">
        <span class="timestamp">{{ log.ts_iso | date:'medium' }}</span>
        <span class="badge index">Block #{{ logs.length - i }}</span>
      </div>

      <div class="log-body">
        <div class="hash-row">
          <span class="label">Entry Hash:</span>
          <span class="hash current">{{ log.entry_hash | slice:0:20 }}...</span>
        </div>
        <div class="hash-row">
          <span class="label">Prev Hash:</span>
          <span class="hash prev">{{ log.prev_hash | slice:0:20 }}...</span>
        </div>

        <div class="data-row">
          <strong>Decision:</strong> {{ log.decision | json }}
        </div>
      </div>
    </div>
  </div>
</div>