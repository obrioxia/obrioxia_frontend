<nav class="fixed w-full z-50 bg-[#050505]/90 backdrop-blur-md border-b border-white/5 top-0 left-0">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-20">
            
            <div class="flex-shrink-0 flex items-center gap-3">
                <div class="w-9 h-9 bg-white rounded-sm flex items-center justify-center shadow-[0_0_15px_rgba(255,255,255,0.2)]">
                    <i class="fas fa-cube text-black text-lg"></i>
                </div>
                <span class="font-[Orbitron] font-bold text-xl tracking-[0.2em] text-white">OBRIOXIA</span>
            </div>

            <div class="hidden md:block">
                <div class="ml-10 flex items-baseline space-x-8">
                    <a href="/submit" class="text-gray-400 hover:text-white px-1 py-5 text-sm font-bold tracking-wider transition-all hover:border-b-2 hover:border-gray-500">
                        LOG EVENT
                    </a>
                    <a href="/verify" class="text-white border-b-2 border-blue-500 px-1 py-5 text-sm font-bold tracking-wider transition-all">
                        VERIFY CHAIN
                    </a>
                </div>
            </div>
            
            <div class="hidden md:flex items-center gap-2 text-xs font-mono text-gray-500 border border-white/10 px-3 py-1 rounded-full">
                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                SYSTEM ONLINE
            </div>
        </div>
    </div>
</nav>

<div class="min-h-screen bg-[#050505] text-white font-sans pt-32 pb-20 px-4">
    
    <div class="max-w-4xl mx-auto text-center mb-12">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-500 text-xs font-bold tracking-widest uppercase mb-4">
            <i class="fas fa-shield-alt"></i> Public Validator Node
        </div>
        <h1 class="text-4xl md:text-5xl font-[Orbitron] font-black mb-4">
            VERIFY <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-600">CHAIN INTEGRITY</span>
        </h1>
        <p class="text-gray-400 text-lg font-light max-w-2xl mx-auto">
            Upload a Policy Receipt (.json) to verify its authenticity. This checks the digital seal against our secure ledger to prove the record has not been altered or deleted since the moment it was logged.
        </p>
    </div>

    <div class="max-w-2xl mx-auto">
        
        <div *ngIf="!results && !isLoading" 
             (dragover)="onDragOver($event)" 
             (dragleave)="onDragLeave($event)" 
             (drop)="onDrop($event)"
             [class.border-blue-500]="isDragging"
             [class.bg-blue-500-10]="isDragging"
             class="glass-panel border-2 border-dashed border-white/10 rounded-xl p-12 text-center transition-all duration-300 hover:border-blue-500/50 hover:bg-white/5 relative group cursor-pointer">
            
            <input type="file" (change)="onFileSelected($event)" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10" accept=".json">
            
            <div class="w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-500 text-3xl group-hover:scale-110 transition-transform duration-300">
                <i class="fas fa-cloud-upload-alt"></i>
            </div>
            
            <h3 class="text-xl font-bold text-white mb-2">Drop Verification File Here</h3>
            <p class="text-gray-500 text-sm mb-6">or click to browse your device</p>
            
            <div class="inline-block bg-white/5 px-4 py-2 rounded text-xs font-mono text-gray-400 border border-white/5">
                Supports: .JSON Receipts
            </div>
        </div>

        <div *ngIf="isLoading" class="text-center py-20 animate-pulse">
            <div class="w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"></div>
            <h3 class="text-xl font-[Orbitron] font-bold">Verifying Hash...</h3>
            <p class="text-gray-500 text-sm">Querying distributed ledger</p>
        </div>

        <div *ngIf="results" class="space-y-4">
            <div *ngFor="let res of results" 
                 [class.border-green-500]="res.valid" 
                 [class.border-red-500]="!res.valid"
                 class="glass-panel border-l-4 p-6 rounded-lg flex flex-col md:flex-row items-start md:items-center justify-between animate-[fadeIn_0.5s_ease-out]">
                
                <div class="mb-4 md:mb-0">
                    <div class="text-xs uppercase tracking-widest mb-1" 
                         [class.text-green-500]="res.valid" 
                         [class.text-red-500]="!res.valid">
                        {{ res.valid ? 'Cryptographically Verified' : 'Integrity Failure' }}
                    </div>
                    <div class="text-white font-mono text-sm">Sequence #{{ res.sequence }}</div>
                    <div class="text-gray-500 text-xs mb-2">{{ res.timestamp | date:'medium' }}</div>
                    
                    <div class="text-[10px] text-gray-500 italic border-t border-white/5 pt-2 mt-2 max-w-md">
                        * Verification Scope: Confirms the log entry has not been altered since creation. Validates data integrity only, not the accuracy of the underlying decision.
                    </div>
                </div>

                <div class="text-3xl" [class.text-green-500]="res.valid" [class.text-red-500]="!res.valid">
                    <i class="fas" [class.fa-check-circle]="res.valid" [class.fa-times-circle]="!res.valid"></i>
                </div>
            </div>

            <button (click)="reset()" class="w-full mt-6 bg-white/10 hover:bg-white/20 text-white font-bold py-3 px-6 rounded-sm transition-colors">
                Verify Another File
            </button>
        </div>

        <div *ngIf="errorMessage" class="mt-6 glass-panel border-l-4 border-red-500 p-4 rounded text-center">
            <p class="text-red-400 font-bold"><i class="fas fa-exclamation-triangle mr-2"></i> Error</p>
            <p class="text-gray-400 text-sm">{{ errorMessage }}</p>
            <button (click)="reset()" class="text-xs underline text-white mt-2">Try Again</button>
        </div>

    </div>
    
    <div class="max-w-7xl mx-auto mt-12 pt-8 border-t border-white/10 text-center text-[10px] text-gray-600 leading-relaxed">
        <p>Obrioxia Audit Engine is provided for evaluation purposes only. This instance is not SOC2 or HIPAA compliant.</p>
    </div>
</div>
