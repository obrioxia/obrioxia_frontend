<!-- Global Navigation -->
<nav class="border-b border-gray-800 bg-black/80 backdrop-blur-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
    
    <!-- Logo -->
    <a routerLink="/" class="flex items-center gap-2 cursor-pointer no-underline group">
      <div class="w-3 h-3 bg-cyan-500 rounded-full group-hover:shadow-[0_0_10px_#06b6d4] transition-all"></div>
      <span class="text-xl font-orbitron font-bold text-white tracking-wider group-hover:text-cyan-400 transition-colors">OBRIOXIA</span>
    </a>

    <!-- Menu Links -->
    <div class="flex items-center gap-4 md:gap-8">
      <a routerLink="/" 
         class="text-xs md:text-sm font-mono text-gray-400 hover:text-cyan-400 transition-colors uppercase tracking-wide cursor-pointer decoration-0"
         routerLinkActive="text-cyan-400 font-bold" 
         [routerLinkActiveOptions]="{exact: true}">
         Log Event
      </a>
      
      <a routerLink="/verify" 
         class="text-xs md:text-sm font-mono text-gray-400 hover:text-cyan-400 transition-colors uppercase tracking-wide cursor-pointer decoration-0"
         routerLinkActive="text-cyan-400 font-bold">
         Verify Chain
      </a>

      <!-- AUTH BUTTONS -->
      <!-- If User is Logged In: Show Dashboard Link -->
      <ng-container *ngIf="user$ | async; else loginButton">
        <a routerLink="/admin/dashboard" 
           class="text-xs md:text-sm font-mono bg-cyan-900/30 hover:bg-cyan-900/50 text-cyan-400 border border-cyan-500/30 px-4 py-2 rounded transition-all uppercase tracking-wide cursor-pointer no-underline flex items-center gap-2">
           <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
           Dashboard
        </a>
      </ng-container>

      <!-- If User is Logged Out: Show Login Link pointing to /login -->
      <ng-template #loginButton>
        <a routerLink="/login" 
           class="text-xs md:text-sm font-mono bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded border border-gray-700 hover:border-cyan-500/50 transition-all uppercase tracking-wide cursor-pointer no-underline">
           Agent Login
        </a>
      </ng-template>
    </div>

  </div>
</nav>

<!-- Page Content -->
<router-outlet></router-outlet>

<!-- Global Footer -->
<footer class="bg-black border-t border-gray-900 text-gray-500 py-8 mt-auto">
  <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4">
    
    <!-- Branding -->
    <div class="text-sm">
      <span class="text-cyan-500 font-orbitron font-bold">OBRIOXIA</span> 
      <span class="mx-2">|</span>
      <span>Immutable Audit Engine v3.6</span>
    </div>

    <!-- Legal & Contact Links -->
    <div class="flex gap-6 text-xs font-mono uppercase tracking-wide">
      <a routerLink="/terms" class="hover:text-cyan-400 transition-colors cursor-pointer">Terms</a>
      <a routerLink="/privacy" class="hover:text-cyan-400 transition-colors cursor-pointer">Privacy</a>
      <a routerLink="/disclaimer" class="hover:text-cyan-400 transition-colors cursor-pointer">Data Disclaimer</a>
      <span class="text-gray-700">|</span>
      <a href="mailto:j.obrien@obrioxia.com" class="hover:text-cyan-400 transition-colors cursor-pointer">Contact</a>
    </div>

    <!-- Copyright -->
    <div class="text-xs">
      &copy; 2025 Obrioxia. All rights reserved.
    </div>
  </div>
</footer>
